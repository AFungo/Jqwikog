description = "Jqwik modular API integration test"

repositories {
	mavenCentral()
	maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
}

java {
	sourceCompatibility = JavaVersion.VERSION_1_9
	targetCompatibility = JavaVersion.VERSION_1_9

	modularity.inferModulePath = true
}

test {
	useJUnitPlatform()
}

dependencies {
	// Does not work in IntelliJ since module-info hidden from IntelliJ because Java 8.
	//	testImplementation(project(":api"))
	//	testRuntimeOnly(project(":engine"))
	// Workaround. This requires to deploy snapshot release first.
	testImplementation("net.jqwik:jqwik:1.6.0-SNAPSHOT")
	testRuntimeOnly("net.jqwik:jqwik-engine:1.6.0-SNAPSHOT")
}

tasks.configureEach {
	onlyIf { JavaVersion.current().java9Compatible }
}
